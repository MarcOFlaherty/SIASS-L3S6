{"title":"S√©quence 1 : Prise en main & statistiques descriptives","markdown":{"yaml":{"title":"S√©quence 1 : Prise en main & statistiques descriptives","subtitle":"Analyse des in√©galit√©s de d√©veloppement (Donn√©es PNUD)","author":"Marc O'Flaherty","format":{"revealjs":{"theme":"simple","slide-number":"c/t","lightbox":true,"chalkboard":true,"footer":"S√©quence 1 - L3 Sciences Sociales","echo":true}}},"headingText":"Q1. D√©couverte des donn√©es","containsRefs":false,"markdown":"\n\n*Importation et caract√©risation*\n\n## Pr√©sentation des donn√©es (Q1) {.scrollable}\n\n* **Population √©tudi√©e :** Un √©chantillon de 44 pays (Source PNUD 2017).\n* **Individu statistique :** Le Pays (et non l'habitant).\n* **Variables cl√©s :**\n    * `IDH` : Indice synth√©tique (0 √† 1).\n    * `PIB/t√™te` : Richesse.\n    * `Esp√©rance de vie` : Sant√©.\n    * `Population` : D√©mographie.\n    * `Ratio Palma` : In√©galit√©s (Top 10% / Bottom 40%).\n\n::: {.callout-note}\n### Objectif Q1\nT√©l√©charger le fichier, l'ouvrir et identifier ces variables.\n:::\n\n## Importation : La technique\n\n::: {.panel-tabset}\n\n### üü¢ Sur Excel\n1.  Ouvrez le fichier `DonneesTD1.xlsx`.\n\n### üîµ Sur R\n::: {style=\"max-height: 400px; overflow-y: auto;\"}\n```{r}\n#| label: setup\n#| echo: true\n#| message: false\n#| warning: false\n\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(readxl)\n\n# --- √âTAPE 1 : D√âFINIR LE FICHIER ---\n# Remplacez ce chemin par le v√¥tre !\nmon_fichier <- \"C:/Users/oflah/Downloads/DonneesTD1.xlsx\" \n\n# --- √âTAPE 2 : IMPORTER ---\ndf <- read_excel(mon_fichier)\n\n# Aper√ßu\nhead(df, 3)\n```\n:::\n:::\n\n# Q2 & Q3. Indicateurs simples\n*Moyenne, Variance, M√©diane, Quartiles*\n\n## Tendance centrale & Dispersion (Q2) {.scrollable}\n\nOn demande la **Moyenne** et la **Variance**.\n\n::: {.callout-tip}\n### üü¢ Sur Excel (Standard Scientifique)\n* **Moyenne :** `=MOYENNE(Plage)`\n* **Variance :** `=VAR.S(Plage)`\n    * *Note :* On utilise la variance d'√©chantillon (.S) qui est le standard en sciences sociales (comme sur R).\n* **√âcart-type :** `=ECARTYPE.STANDARD(Plage)`\n:::\n\n::: {style=\"max-height: 300px; overflow-y: auto;\"}\n```{r}\n#| label: q2-stats\n#| echo: true\n\n# Calcul des indicateurs pour l'Esp√©rance de vie\ndf %>% summarise(\n  Moyenne = mean(`Esp Vie Naiss 2017`, na.rm = TRUE),\n  Variance = var(`Esp Vie Naiss 2017`, na.rm = TRUE),\n  Ecart_Type = sd(`Esp Vie Naiss 2017`, na.rm = TRUE)\n) %>% knitr::kable(digits = 2)\n```\n:::\n\n## M√©diane et quantiles (Q3) {.scrollable}\n\nOn d√©coupe la distribution pour voir les in√©galit√©s.\n\n::: {.callout-tip}\n### üü¢ Sur Excel\n* **M√©diane :** `=MEDIANE(Plage)`\n* **Quartiles :** `=QUARTILE.EXC(Plage; 1)` (Q1) et `3` (Q3).\n* **D√©ciles :** `=CENTILE(Plage; 0,1)` (D1) et `0,9` (D9).\n:::\n\n**R√©sultats R :**\n::: {style=\"max-height: 200px; overflow-y: auto;\"}\n```{r}\n#| label: q3-quantiles\n#| echo: true\n\n# La fonction quantile fait tout d'un coup\nquantile(df$`Esp Vie Naiss 2017`, \n         probs = c(0.1, 0.25, 0.5, 0.75, 0.9), \n         na.rm = TRUE)\n```\n:::\n\n# Q4, Q5 & Q6. Visualisation\n*Boxplot, graphique cumul√© et Histogramme*\n\n## La Bo√Æte √† moustache (Q4) {.scrollable}\n\nVisualiser la m√©diane, l'√©cart interquartile et les extr√™mes.\n\n::: {.columns}\n::: {.column width=\"40%\"}\n**Lecture :**\n* Trait gras = M√©diane (Q2).  \n* Bo√Æte = 50% des pays.  \n* Extr√™mes = Pays atypiques.  \n:::\n\n::: {.column width=\"60%\"}\n::: {style=\"max-height: 400px; overflow-y: auto;\"}\n```{r}\n#| label: q4-boxplot\n#| fig-height: 5\n\nggplot(df, aes(y = `Esp Vie Naiss 2017`)) +\n  geom_boxplot(fill = \"#404080\", color = \"black\", alpha = 0.6) +\n  labs(title = \"Q4 - Esp√©rance de vie : Boite √† moustaches\", y = \"Ann√©es\") +\n  theme_minimal() +\n  theme(axis.text.x = element_blank())\n```\n:::\n:::\n:::\n\n::: {.callout-tip}\n### üü¢ Sur Excel\nInsertion $\\rightarrow$ Graphiques recommand√©s $\\rightarrow$ Tous les graphiques $\\rightarrow$ **Bo√Æte √† moustaches**.\n:::\n\n## Graphique cumul√© (Q5) {.scrollable}\n\n::: {.callout-tip}\n### üü¢ Sur Excel (M√©thode simple)\n1.  **Triez** la colonne `Esp√©rance de vie` du plus petit au plus grand.  \n2. *Cr√©ez* la m√©diane et **copier/coller** en valeur.  \n2.  S√©lectionnez les valeurs.  \n3.  Insertion $\\rightarrow$ **Histogramme (ou Barres)**.  \n    * *R√©sultat :* Des b√¢tons de plus en plus grands.  \n:::\n\n**Le r√©sultat identique sur R (donn√©es tri√©es) :**\n\n::: {style=\"max-height: 450px; overflow-y: auto;\"}\n```{r}\n#| label: q5-sorted-bars\n#| fig-height: 5\n\n# 1. On trie les donn√©es (comme sur Excel)\ndf_trie <- df %>%\n  filter(!is.na(`Esp Vie Naiss 2017`)) %>%\n  arrange(`Esp Vie Naiss 2017`) %>%\n  mutate(Rang = row_number()) # On cr√©e un num√©ro d'ordre (1, 2, 3...)\n\n# 2. On trace des B√ÇTONS (geom_col)\nggplot(df_trie, aes(x = Rang, y = `Esp Vie Naiss 2017`)) +\n  geom_col(fill = \"#404080\", width = 0.8) +\n  \n  # On ajoute la ligne de la M√©diane (Horizontalement)\n  geom_hline(yintercept = median(df_trie$`Esp Vie Naiss 2017`), \n             color = \"#b89e14\", size = 1.5) +\n  \n  annotate(\"text\", x = 5, y = 78, label = \"M√©diane\", color = \"#b89e14\", fontface = \"bold\") +\n\n  labs(title = \"Q5 : Distribution de l'Esp√©rance de vie (Tri√©e)\", \n       y = \"Esp√©rance de vie (en ann√©es)\", \n       x = \"Pays\") +\n  theme_minimal()\n```\n:::\n\n---\n\n## Histogramme (Q6) {.scrollable}\n*Constituer des classes appropri√©es (5 ans).*\n\n::: {.callout-tip}\n### üü¢ Sur Excel\n1.  S√©lectionnez la colonne \"Esp√©rance de vie\".  \n2.  Insertion $\\rightarrow$ Graphiques statistiques (l'ic√¥ne bleue avec des barres) $\\rightarrow$ **Histogramme**.  \n3.  **Important :** Par d√©faut, les classes sont automatiques.  \n    * *Clic droit sur l'axe horizontal* $\\rightarrow$ *Mise en forme de l'axe*.  \n    * Option \"Largeur des classes \" $\\rightarrow$ √âcrire **5** $\\rightarrow$ Classe de soupassement : **50**.     \n:::\n\n**Le r√©sultat attendu (Version R) :**\n\n::: {style=\"max-height: 400px; overflow-y: auto;\"}\n```{r}\n#| label: q6-histo-clean\n#| fig-height: 5\n\nggplot(df, aes(x = `Esp Vie Naiss 2017`)) +\n  geom_histogram(\n    binwidth = 5,       # Largeur de 5 ans\n    boundary = 50,      # On force le d√©marrage sur un chiffre rond (50)\n    closed = \"left\",    # L'intervalle est [50, 55[ (50 inclus, 55 exclu)\n    fill = \"#1591EA\", \n    color = \"white\"\n  ) +\n  # C'est ici qu'on force l'affichage des bornes sur l'axe X\n  scale_x_continuous(breaks = seq(50, 90, 5)) + \n  \n  labs(\n    title = \"Q6 : Histogramme (Classes de 5 ans)\", \n    subtitle = \"Chaque barre repr√©sente une tranche stricte (ex: [75 √† 80[ ans)\",\n    y = \"Nombre de pays\", \n    x = \"Esp√©rance de vie\"\n  ) +\n  theme_minimal()\n```\n:::\n\n# Q7, Q8 & Q9. Bivari√© & r√©gressions\n*Expliquer les liens*\n\n## Covariances et Corr√©lations (Q7) {.scrollable}\n*Comprendre les liens avec l'IDH.*\n\nOn calcule d'abord la **Covariance** (le lien brut) puis la **Corr√©lation** (le lien standardis√©).\n\n::: {.callout-tip}\n### üü¢ Sur Excel\n* **Covariance :** `=COVARIANCE.STANDARD(Plage1; Plage2)`\n    * *R√©sultat flou (ex: 4500)*.\n* **Corr√©lation :** `=COEFFICIENT.CORRELATION(Plage1; Plage2)`\n    * *R√©sultat clair (entre -1 et 1)*.\n:::\n\n**R√©sultats sur R (Matrices compl√®tes) :**\n\n::: {style=\"max-height: 450px; overflow-y: auto;\"}\n```{r}\n#| label: q7-cov-cor\n#| echo: true\n\n# 1. S√©lection des variables\nvars <- df %>% \n  select(`IDH 2017`, `PIB/t√™te (2017)`, `Esp Vie Naiss 2017`, `Ann√©es √©ducation (2017)`)\n\n# 2. Matrice de COVARIANCE (Brute)\n# Difficile √† interpr√©ter car les unit√©s sont m√©lang√©es ($ * Ann√©es)\nprint(\"--- Matrice de COVARIANCE ---\")\ncov(vars, use = \"complete.obs\") %>% round(1)\n\n# 3. Matrice de CORR√âLATION (Standardis√©e)\n# Id√©ale pour voir les liens avec l'IDH (Max = 1)\nprint(\"--- Matrice de CORR√âLATION ---\")\ncor(vars, use = \"complete.obs\") %>% round(2)\n```\n:::\n\n## Nuage de points et R√©gression Simple (Q8) {.scrollable}\n*Esp√©rance de vie ~ PIB par t√™te.*\n\n::: {style=\"max-height: 450px; overflow-y: auto;\"}\n```{r}\n#| label: q8-reg\n#| fig-height: 5\n\nggplot(df, aes(x = `PIB/t√™te (2017)`, y = `Esp Vie Naiss 2017`)) +\n  geom_point(alpha = 0.6) +\n  geom_smooth(method = \"lm\", color = \"#C04657\", se = FALSE) + # Droite de r√©gression\n  labs(title = \"Q8 : R√©gression Simple\", x = \"PIB ($)\", y = \"Esp√©rance de vie\") +\n  theme_minimal()\n```\n:::\n*La ligne droite ne colle pas parfaitement (le lien est courbe), mais la tendance est l√†.*\n\n## R√©gression Lin√©aire Multiple (Q9) {.scrollable}\n*Esp√©rance de vie ~ PIB + √âducation + Population*\n\nOn cherche √† expliquer la sant√© par toutes les variables disponibles (sauf l'IDH qui est une synth√®se).\n\n::: {.callout-tip}\n### üü¢ Sur Excel \nExcel impose une r√®gle stricte : les variables explicatives ($X$) doivent √™tre **coll√©es** (dans des colonnes adjacentes).  \n1.  **Pr√©parez les donn√©es :** Dans une nouvelle zone, copiez la colonne `PIB`, la colonne `√âducation` et la colonne `Population` pour qu'elles soient c√¥te √† c√¥te.  \n2.  **Outil :** Onglet **Donn√©es** $\\rightarrow$ **Utilitaire d'analyse** $\\rightarrow$ **R√©gression**. [En cas d'absence de l'option üîó](https://www.youtube.com/watch?v=hy-lTUZ4whk)  \n3.  **Param√®tres :**  \n    * **Plage Y :** La colonne `Esp√©rance de vie`.  \n    * **Plage X :** Le bloc des **3 colonnes** (PIB, √âducation, Pop) ensemble.  \n    * Cochez **\"Intitul√©s\"** (Labels).  \n:::\n\n**R√©sultat sur R :**  \n\n::: {style=\"max-height: 400px; overflow-y: auto;\"}\n```{r}\n#| label: q9-multi-final\n#| echo: true\n\n# Mod√®le sans le Palma (donn√©es manquantes) et sans l'IDH (tautologie)\nmodele_safe <- lm(`Esp Vie Naiss 2017` ~ `PIB/t√™te (2017)` + \n                  `Ann√©es √©ducation (2017)` + \n                  `Population totale (2017)`, \n                  data = df)\n\n# Affichage des coefficients arrondis\nsummary(modele_safe)$coefficients %>% round(5)\n```\n:::\n\n### Interpr√©tation des r√©sultats  \n\n1.  **L'Intercept (Ordonn√©e √† l'origine) : ~43 ans**  \n    * *C'est quoi ?* C'est l'esp√©rance de vie th√©orique d'un pays qui aurait   **0 partout** (0$ PIB, 0 √©ducation).  \n    * *Sens :* C'est notre \"socle biologique\" minimum sans aucun d√©veloppement.  \n\n2.  **L'√âducation (Significatif `***`) :**  \n    * C'est le **moteur principal**. Chaque ann√©e d'√©tude suppl√©mentaire fait gagner environ **2,15 ans** d'esp√©rance de vie (Coeff: 2.159).  \n\n3.  **La surprise du PIB (Non-significatif) :**  \n    * Sa p-value est de **0.71** (> 0.05).  \n    * *Pourquoi ?* Car l'√âducation a \"absorb√©\" l'effet richesse. Le mod√®le nous dit : ce n'est pas d'√™tre riche qui compte, mais d'√™tre √©duqu√© (ce qui arrive souvent quand on est riche).  \n\n4.  **La Population (Non-significatif) :**  \n    * La taille du pays n'a aucun impact sur la dur√©e de vie.  \n    \n# Q10. Le pi√®ge de l'agr√©gation\n*Pays vs Population mondiale*\n\n## Pond√©ration par la population (Q10) {.scrollable}\n\nPeut-on faire les calculs pour la **population mondiale** ?\nOui, mais il faut pond√©rer chaque pays par son nombre d'habitants.\n\n::: {.callout-tip}\n### üü¢ Sur Excel\nUtilisez `=SOMMEPROD(Valeurs; Poids) / SOMME(Poids)`.\n:::\n\n::: {style=\"max-height: 300px; overflow-y: auto;\"}\n```{r}\n#| label: q10-ponderation\n#| echo: true\n\n# Moyenne \"Pays\" (Non pond√©r√©e)\nm_pays <- mean(df$`Esp Vie Naiss 2017`, na.rm = TRUE)\n\n# Moyenne \"Monde\" (Pond√©r√©e par la population)\nm_monde <- weighted.mean(df$`Esp Vie Naiss 2017`, w = df$`Population totale (2017)`, na.rm = TRUE)\n\ndata.frame(Moyenne_Pays = m_pays, Moyenne_Monde = m_monde)\n```\n:::\n\n# Conclusion (Q11-13)\n\n## Comparaison et Bilan\n\n* **Q11 (Ouverture) :** Vous pouvez tester d'autres mod√®les chez vous.\n* **Q12 (Excel vs R) :**\n    * **Excel :** Intuitif pour voir les donn√©es, bon pour la saisie manuelle.\n    * **R :** Plus puissant pour les graphiques (ggplot), la mod√©lisation (lm) et surtout la **reproductibilit√©** (on relance le script, tout se met √† jour).\n* **Q13 (Commentaires) :**\n    * Le d√©veloppement est tr√®s in√©gal.\n    * La richesse est fortement li√©e √† la sant√©, mais l'√©ducation joue aussi un r√¥le cl√© (comme vu en Q9).","srcMarkdownNoYaml":"\n\n# Q1. D√©couverte des donn√©es\n*Importation et caract√©risation*\n\n## Pr√©sentation des donn√©es (Q1) {.scrollable}\n\n* **Population √©tudi√©e :** Un √©chantillon de 44 pays (Source PNUD 2017).\n* **Individu statistique :** Le Pays (et non l'habitant).\n* **Variables cl√©s :**\n    * `IDH` : Indice synth√©tique (0 √† 1).\n    * `PIB/t√™te` : Richesse.\n    * `Esp√©rance de vie` : Sant√©.\n    * `Population` : D√©mographie.\n    * `Ratio Palma` : In√©galit√©s (Top 10% / Bottom 40%).\n\n::: {.callout-note}\n### Objectif Q1\nT√©l√©charger le fichier, l'ouvrir et identifier ces variables.\n:::\n\n## Importation : La technique\n\n::: {.panel-tabset}\n\n### üü¢ Sur Excel\n1.  Ouvrez le fichier `DonneesTD1.xlsx`.\n\n### üîµ Sur R\n::: {style=\"max-height: 400px; overflow-y: auto;\"}\n```{r}\n#| label: setup\n#| echo: true\n#| message: false\n#| warning: false\n\nlibrary(ggplot2)\nlibrary(dplyr)\nlibrary(readxl)\n\n# --- √âTAPE 1 : D√âFINIR LE FICHIER ---\n# Remplacez ce chemin par le v√¥tre !\nmon_fichier <- \"C:/Users/oflah/Downloads/DonneesTD1.xlsx\" \n\n# --- √âTAPE 2 : IMPORTER ---\ndf <- read_excel(mon_fichier)\n\n# Aper√ßu\nhead(df, 3)\n```\n:::\n:::\n\n# Q2 & Q3. Indicateurs simples\n*Moyenne, Variance, M√©diane, Quartiles*\n\n## Tendance centrale & Dispersion (Q2) {.scrollable}\n\nOn demande la **Moyenne** et la **Variance**.\n\n::: {.callout-tip}\n### üü¢ Sur Excel (Standard Scientifique)\n* **Moyenne :** `=MOYENNE(Plage)`\n* **Variance :** `=VAR.S(Plage)`\n    * *Note :* On utilise la variance d'√©chantillon (.S) qui est le standard en sciences sociales (comme sur R).\n* **√âcart-type :** `=ECARTYPE.STANDARD(Plage)`\n:::\n\n::: {style=\"max-height: 300px; overflow-y: auto;\"}\n```{r}\n#| label: q2-stats\n#| echo: true\n\n# Calcul des indicateurs pour l'Esp√©rance de vie\ndf %>% summarise(\n  Moyenne = mean(`Esp Vie Naiss 2017`, na.rm = TRUE),\n  Variance = var(`Esp Vie Naiss 2017`, na.rm = TRUE),\n  Ecart_Type = sd(`Esp Vie Naiss 2017`, na.rm = TRUE)\n) %>% knitr::kable(digits = 2)\n```\n:::\n\n## M√©diane et quantiles (Q3) {.scrollable}\n\nOn d√©coupe la distribution pour voir les in√©galit√©s.\n\n::: {.callout-tip}\n### üü¢ Sur Excel\n* **M√©diane :** `=MEDIANE(Plage)`\n* **Quartiles :** `=QUARTILE.EXC(Plage; 1)` (Q1) et `3` (Q3).\n* **D√©ciles :** `=CENTILE(Plage; 0,1)` (D1) et `0,9` (D9).\n:::\n\n**R√©sultats R :**\n::: {style=\"max-height: 200px; overflow-y: auto;\"}\n```{r}\n#| label: q3-quantiles\n#| echo: true\n\n# La fonction quantile fait tout d'un coup\nquantile(df$`Esp Vie Naiss 2017`, \n         probs = c(0.1, 0.25, 0.5, 0.75, 0.9), \n         na.rm = TRUE)\n```\n:::\n\n# Q4, Q5 & Q6. Visualisation\n*Boxplot, graphique cumul√© et Histogramme*\n\n## La Bo√Æte √† moustache (Q4) {.scrollable}\n\nVisualiser la m√©diane, l'√©cart interquartile et les extr√™mes.\n\n::: {.columns}\n::: {.column width=\"40%\"}\n**Lecture :**\n* Trait gras = M√©diane (Q2).  \n* Bo√Æte = 50% des pays.  \n* Extr√™mes = Pays atypiques.  \n:::\n\n::: {.column width=\"60%\"}\n::: {style=\"max-height: 400px; overflow-y: auto;\"}\n```{r}\n#| label: q4-boxplot\n#| fig-height: 5\n\nggplot(df, aes(y = `Esp Vie Naiss 2017`)) +\n  geom_boxplot(fill = \"#404080\", color = \"black\", alpha = 0.6) +\n  labs(title = \"Q4 - Esp√©rance de vie : Boite √† moustaches\", y = \"Ann√©es\") +\n  theme_minimal() +\n  theme(axis.text.x = element_blank())\n```\n:::\n:::\n:::\n\n::: {.callout-tip}\n### üü¢ Sur Excel\nInsertion $\\rightarrow$ Graphiques recommand√©s $\\rightarrow$ Tous les graphiques $\\rightarrow$ **Bo√Æte √† moustaches**.\n:::\n\n## Graphique cumul√© (Q5) {.scrollable}\n\n::: {.callout-tip}\n### üü¢ Sur Excel (M√©thode simple)\n1.  **Triez** la colonne `Esp√©rance de vie` du plus petit au plus grand.  \n2. *Cr√©ez* la m√©diane et **copier/coller** en valeur.  \n2.  S√©lectionnez les valeurs.  \n3.  Insertion $\\rightarrow$ **Histogramme (ou Barres)**.  \n    * *R√©sultat :* Des b√¢tons de plus en plus grands.  \n:::\n\n**Le r√©sultat identique sur R (donn√©es tri√©es) :**\n\n::: {style=\"max-height: 450px; overflow-y: auto;\"}\n```{r}\n#| label: q5-sorted-bars\n#| fig-height: 5\n\n# 1. On trie les donn√©es (comme sur Excel)\ndf_trie <- df %>%\n  filter(!is.na(`Esp Vie Naiss 2017`)) %>%\n  arrange(`Esp Vie Naiss 2017`) %>%\n  mutate(Rang = row_number()) # On cr√©e un num√©ro d'ordre (1, 2, 3...)\n\n# 2. On trace des B√ÇTONS (geom_col)\nggplot(df_trie, aes(x = Rang, y = `Esp Vie Naiss 2017`)) +\n  geom_col(fill = \"#404080\", width = 0.8) +\n  \n  # On ajoute la ligne de la M√©diane (Horizontalement)\n  geom_hline(yintercept = median(df_trie$`Esp Vie Naiss 2017`), \n             color = \"#b89e14\", size = 1.5) +\n  \n  annotate(\"text\", x = 5, y = 78, label = \"M√©diane\", color = \"#b89e14\", fontface = \"bold\") +\n\n  labs(title = \"Q5 : Distribution de l'Esp√©rance de vie (Tri√©e)\", \n       y = \"Esp√©rance de vie (en ann√©es)\", \n       x = \"Pays\") +\n  theme_minimal()\n```\n:::\n\n---\n\n## Histogramme (Q6) {.scrollable}\n*Constituer des classes appropri√©es (5 ans).*\n\n::: {.callout-tip}\n### üü¢ Sur Excel\n1.  S√©lectionnez la colonne \"Esp√©rance de vie\".  \n2.  Insertion $\\rightarrow$ Graphiques statistiques (l'ic√¥ne bleue avec des barres) $\\rightarrow$ **Histogramme**.  \n3.  **Important :** Par d√©faut, les classes sont automatiques.  \n    * *Clic droit sur l'axe horizontal* $\\rightarrow$ *Mise en forme de l'axe*.  \n    * Option \"Largeur des classes \" $\\rightarrow$ √âcrire **5** $\\rightarrow$ Classe de soupassement : **50**.     \n:::\n\n**Le r√©sultat attendu (Version R) :**\n\n::: {style=\"max-height: 400px; overflow-y: auto;\"}\n```{r}\n#| label: q6-histo-clean\n#| fig-height: 5\n\nggplot(df, aes(x = `Esp Vie Naiss 2017`)) +\n  geom_histogram(\n    binwidth = 5,       # Largeur de 5 ans\n    boundary = 50,      # On force le d√©marrage sur un chiffre rond (50)\n    closed = \"left\",    # L'intervalle est [50, 55[ (50 inclus, 55 exclu)\n    fill = \"#1591EA\", \n    color = \"white\"\n  ) +\n  # C'est ici qu'on force l'affichage des bornes sur l'axe X\n  scale_x_continuous(breaks = seq(50, 90, 5)) + \n  \n  labs(\n    title = \"Q6 : Histogramme (Classes de 5 ans)\", \n    subtitle = \"Chaque barre repr√©sente une tranche stricte (ex: [75 √† 80[ ans)\",\n    y = \"Nombre de pays\", \n    x = \"Esp√©rance de vie\"\n  ) +\n  theme_minimal()\n```\n:::\n\n# Q7, Q8 & Q9. Bivari√© & r√©gressions\n*Expliquer les liens*\n\n## Covariances et Corr√©lations (Q7) {.scrollable}\n*Comprendre les liens avec l'IDH.*\n\nOn calcule d'abord la **Covariance** (le lien brut) puis la **Corr√©lation** (le lien standardis√©).\n\n::: {.callout-tip}\n### üü¢ Sur Excel\n* **Covariance :** `=COVARIANCE.STANDARD(Plage1; Plage2)`\n    * *R√©sultat flou (ex: 4500)*.\n* **Corr√©lation :** `=COEFFICIENT.CORRELATION(Plage1; Plage2)`\n    * *R√©sultat clair (entre -1 et 1)*.\n:::\n\n**R√©sultats sur R (Matrices compl√®tes) :**\n\n::: {style=\"max-height: 450px; overflow-y: auto;\"}\n```{r}\n#| label: q7-cov-cor\n#| echo: true\n\n# 1. S√©lection des variables\nvars <- df %>% \n  select(`IDH 2017`, `PIB/t√™te (2017)`, `Esp Vie Naiss 2017`, `Ann√©es √©ducation (2017)`)\n\n# 2. Matrice de COVARIANCE (Brute)\n# Difficile √† interpr√©ter car les unit√©s sont m√©lang√©es ($ * Ann√©es)\nprint(\"--- Matrice de COVARIANCE ---\")\ncov(vars, use = \"complete.obs\") %>% round(1)\n\n# 3. Matrice de CORR√âLATION (Standardis√©e)\n# Id√©ale pour voir les liens avec l'IDH (Max = 1)\nprint(\"--- Matrice de CORR√âLATION ---\")\ncor(vars, use = \"complete.obs\") %>% round(2)\n```\n:::\n\n## Nuage de points et R√©gression Simple (Q8) {.scrollable}\n*Esp√©rance de vie ~ PIB par t√™te.*\n\n::: {style=\"max-height: 450px; overflow-y: auto;\"}\n```{r}\n#| label: q8-reg\n#| fig-height: 5\n\nggplot(df, aes(x = `PIB/t√™te (2017)`, y = `Esp Vie Naiss 2017`)) +\n  geom_point(alpha = 0.6) +\n  geom_smooth(method = \"lm\", color = \"#C04657\", se = FALSE) + # Droite de r√©gression\n  labs(title = \"Q8 : R√©gression Simple\", x = \"PIB ($)\", y = \"Esp√©rance de vie\") +\n  theme_minimal()\n```\n:::\n*La ligne droite ne colle pas parfaitement (le lien est courbe), mais la tendance est l√†.*\n\n## R√©gression Lin√©aire Multiple (Q9) {.scrollable}\n*Esp√©rance de vie ~ PIB + √âducation + Population*\n\nOn cherche √† expliquer la sant√© par toutes les variables disponibles (sauf l'IDH qui est une synth√®se).\n\n::: {.callout-tip}\n### üü¢ Sur Excel \nExcel impose une r√®gle stricte : les variables explicatives ($X$) doivent √™tre **coll√©es** (dans des colonnes adjacentes).  \n1.  **Pr√©parez les donn√©es :** Dans une nouvelle zone, copiez la colonne `PIB`, la colonne `√âducation` et la colonne `Population` pour qu'elles soient c√¥te √† c√¥te.  \n2.  **Outil :** Onglet **Donn√©es** $\\rightarrow$ **Utilitaire d'analyse** $\\rightarrow$ **R√©gression**. [En cas d'absence de l'option üîó](https://www.youtube.com/watch?v=hy-lTUZ4whk)  \n3.  **Param√®tres :**  \n    * **Plage Y :** La colonne `Esp√©rance de vie`.  \n    * **Plage X :** Le bloc des **3 colonnes** (PIB, √âducation, Pop) ensemble.  \n    * Cochez **\"Intitul√©s\"** (Labels).  \n:::\n\n**R√©sultat sur R :**  \n\n::: {style=\"max-height: 400px; overflow-y: auto;\"}\n```{r}\n#| label: q9-multi-final\n#| echo: true\n\n# Mod√®le sans le Palma (donn√©es manquantes) et sans l'IDH (tautologie)\nmodele_safe <- lm(`Esp Vie Naiss 2017` ~ `PIB/t√™te (2017)` + \n                  `Ann√©es √©ducation (2017)` + \n                  `Population totale (2017)`, \n                  data = df)\n\n# Affichage des coefficients arrondis\nsummary(modele_safe)$coefficients %>% round(5)\n```\n:::\n\n### Interpr√©tation des r√©sultats  \n\n1.  **L'Intercept (Ordonn√©e √† l'origine) : ~43 ans**  \n    * *C'est quoi ?* C'est l'esp√©rance de vie th√©orique d'un pays qui aurait   **0 partout** (0$ PIB, 0 √©ducation).  \n    * *Sens :* C'est notre \"socle biologique\" minimum sans aucun d√©veloppement.  \n\n2.  **L'√âducation (Significatif `***`) :**  \n    * C'est le **moteur principal**. Chaque ann√©e d'√©tude suppl√©mentaire fait gagner environ **2,15 ans** d'esp√©rance de vie (Coeff: 2.159).  \n\n3.  **La surprise du PIB (Non-significatif) :**  \n    * Sa p-value est de **0.71** (> 0.05).  \n    * *Pourquoi ?* Car l'√âducation a \"absorb√©\" l'effet richesse. Le mod√®le nous dit : ce n'est pas d'√™tre riche qui compte, mais d'√™tre √©duqu√© (ce qui arrive souvent quand on est riche).  \n\n4.  **La Population (Non-significatif) :**  \n    * La taille du pays n'a aucun impact sur la dur√©e de vie.  \n    \n# Q10. Le pi√®ge de l'agr√©gation\n*Pays vs Population mondiale*\n\n## Pond√©ration par la population (Q10) {.scrollable}\n\nPeut-on faire les calculs pour la **population mondiale** ?\nOui, mais il faut pond√©rer chaque pays par son nombre d'habitants.\n\n::: {.callout-tip}\n### üü¢ Sur Excel\nUtilisez `=SOMMEPROD(Valeurs; Poids) / SOMME(Poids)`.\n:::\n\n::: {style=\"max-height: 300px; overflow-y: auto;\"}\n```{r}\n#| label: q10-ponderation\n#| echo: true\n\n# Moyenne \"Pays\" (Non pond√©r√©e)\nm_pays <- mean(df$`Esp Vie Naiss 2017`, na.rm = TRUE)\n\n# Moyenne \"Monde\" (Pond√©r√©e par la population)\nm_monde <- weighted.mean(df$`Esp Vie Naiss 2017`, w = df$`Population totale (2017)`, na.rm = TRUE)\n\ndata.frame(Moyenne_Pays = m_pays, Moyenne_Monde = m_monde)\n```\n:::\n\n# Conclusion (Q11-13)\n\n## Comparaison et Bilan\n\n* **Q11 (Ouverture) :** Vous pouvez tester d'autres mod√®les chez vous.\n* **Q12 (Excel vs R) :**\n    * **Excel :** Intuitif pour voir les donn√©es, bon pour la saisie manuelle.\n    * **R :** Plus puissant pour les graphiques (ggplot), la mod√©lisation (lm) et surtout la **reproductibilit√©** (on relance le script, tout se met √† jour).\n* **Q13 (Commentaires) :**\n    * Le d√©veloppement est tr√®s in√©gal.\n    * La richesse est fortement li√©e √† la sant√©, mais l'√©ducation joue aussi un r√¥le cl√© (comme vu en Q9)."},"formats":{"revealjs":{"identifier":{"display-name":"RevealJS","target-format":"revealjs","base-format":"revealjs"},"execute":{"fig-width":10,"fig-height":5,"fig-format":"retina","fig-dpi":96,"df-print":"default","error":false,"eval":true,"cache":null,"freeze":false,"echo":true,"output":true,"warning":false,"include":true,"keep-md":false,"keep-ipynb":false,"ipynb":null,"enabled":null,"daemon":null,"daemon-restart":false,"debug":false,"ipynb-filters":[],"ipynb-shell-interactivity":null,"plotly-connected":true,"engine":"knitr"},"render":{"keep-tex":false,"keep-typ":false,"keep-source":false,"keep-hidden":false,"prefer-html":false,"output-divs":true,"output-ext":"html","fig-align":"default","fig-pos":null,"fig-env":null,"code-fold":"none","code-overflow":"scroll","code-link":false,"code-line-numbers":true,"code-tools":false,"tbl-colwidths":"auto","merge-includes":true,"inline-includes":false,"preserve-yaml":false,"latex-auto-mk":true,"latex-auto-install":true,"latex-clean":true,"latex-min-runs":1,"latex-max-runs":10,"latex-makeindex":"makeindex","latex-makeindex-opts":[],"latex-tlmgr-opts":[],"latex-input-paths":[],"latex-output-dir":null,"link-external-icon":false,"link-external-newwindow":false,"self-contained-math":false,"format-resources":[]},"pandoc":{"standalone":true,"wrap":"none","default-image-extension":"png","html-math-method":{"method":"mathjax","url":"https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/MathJax.js?config=TeX-AMS_HTML-full"},"slide-level":2,"to":"revealjs","output-file":"slides_seq1.html"},"language":{"toc-title-document":"Table of contents","toc-title-website":"On this page","related-formats-title":"Other Formats","related-notebooks-title":"Notebooks","source-notebooks-prefix":"Source","other-links-title":"Other Links","code-links-title":"Code Links","launch-dev-container-title":"Launch Dev Container","launch-binder-title":"Launch Binder","article-notebook-label":"Article Notebook","notebook-preview-download":"Download Notebook","notebook-preview-download-src":"Download Source","notebook-preview-back":"Back to Article","manuscript-meca-bundle":"MECA Bundle","section-title-abstract":"Abstract","section-title-appendices":"Appendices","section-title-footnotes":"Footnotes","section-title-references":"References","section-title-reuse":"Reuse","section-title-copyright":"Copyright","section-title-citation":"Citation","appendix-attribution-cite-as":"For attribution, please cite this work as:","appendix-attribution-bibtex":"BibTeX citation:","appendix-view-license":"View License","title-block-author-single":"Author","title-block-author-plural":"Authors","title-block-affiliation-single":"Affiliation","title-block-affiliation-plural":"Affiliations","title-block-published":"Published","title-block-modified":"Modified","title-block-keywords":"Keywords","callout-tip-title":"Tip","callout-note-title":"Note","callout-warning-title":"Warning","callout-important-title":"Important","callout-caution-title":"Caution","code-summary":"Code","code-tools-menu-caption":"Code","code-tools-show-all-code":"Show All Code","code-tools-hide-all-code":"Hide All Code","code-tools-view-source":"View Source","code-tools-source-code":"Source Code","tools-share":"Share","tools-download":"Download","code-line":"Line","code-lines":"Lines","copy-button-tooltip":"Copy to Clipboard","copy-button-tooltip-success":"Copied!","repo-action-links-edit":"Edit this page","repo-action-links-source":"View source","repo-action-links-issue":"Report an issue","back-to-top":"Back to top","search-no-results-text":"No results","search-matching-documents-text":"matching documents","search-copy-link-title":"Copy link to search","search-hide-matches-text":"Hide additional matches","search-more-match-text":"more match in this document","search-more-matches-text":"more matches in this document","search-clear-button-title":"Clear","search-text-placeholder":"","search-detached-cancel-button-title":"Cancel","search-submit-button-title":"Submit","search-label":"Search","toggle-section":"Toggle section","toggle-sidebar":"Toggle sidebar navigation","toggle-dark-mode":"Toggle dark mode","toggle-reader-mode":"Toggle reader mode","toggle-navigation":"Toggle navigation","crossref-fig-title":"Figure","crossref-tbl-title":"Table","crossref-lst-title":"Listing","crossref-thm-title":"Theorem","crossref-lem-title":"Lemma","crossref-cor-title":"Corollary","crossref-prp-title":"Proposition","crossref-cnj-title":"Conjecture","crossref-def-title":"Definition","crossref-exm-title":"Example","crossref-exr-title":"Exercise","crossref-ch-prefix":"Chapter","crossref-apx-prefix":"Appendix","crossref-sec-prefix":"Section","crossref-eq-prefix":"Equation","crossref-lof-title":"List of Figures","crossref-lot-title":"List of Tables","crossref-lol-title":"List of Listings","environment-proof-title":"Proof","environment-remark-title":"Remark","environment-solution-title":"Solution","listing-page-order-by":"Order By","listing-page-order-by-default":"Default","listing-page-order-by-date-asc":"Oldest","listing-page-order-by-date-desc":"Newest","listing-page-order-by-number-desc":"High to Low","listing-page-order-by-number-asc":"Low to High","listing-page-field-date":"Date","listing-page-field-title":"Title","listing-page-field-description":"Description","listing-page-field-author":"Author","listing-page-field-filename":"File Name","listing-page-field-filemodified":"Modified","listing-page-field-subtitle":"Subtitle","listing-page-field-readingtime":"Reading Time","listing-page-field-wordcount":"Word Count","listing-page-field-categories":"Categories","listing-page-minutes-compact":"{0} min","listing-page-category-all":"All","listing-page-no-matches":"No matching items","listing-page-words":"{0} words","listing-page-filter":"Filter","draft":"Draft"},"metadata":{"lang":"en","fig-responsive":false,"quarto-version":"1.6.42","auto-stretch":true,"title":"S√©quence 1 : Prise en main & statistiques descriptives","subtitle":"Analyse des in√©galit√©s de d√©veloppement (Donn√©es PNUD)","author":"Marc O'Flaherty","theme":"simple","slideNumber":"c/t","lightbox":true,"chalkboard":true,"footer":"S√©quence 1 - L3 Sciences Sociales"}}},"projectFormats":["html","revealjs"]}